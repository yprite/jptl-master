# 프로젝트 개발 규칙 (.cursorrules)

이 파일은 Cursor AI 어시스턴트가 프로젝트 개발 시 반드시 준수해야 하는 규칙들을 정의합니다.
DEVELOPMENT_GUIDELINES.md 파일의 핵심 내용을 기반으로 하며, 모든 코드 작성 및 리뷰 시 이 규칙을 우선적으로 적용합니다.

## 핵심 개발 원칙

### 1. 오버엔지니어링 방지
- KISS 원칙 준수: 불필요하게 복잡한 설계를 피합니다
- YAGNI 원칙 준수: 실제로 필요한 기능만 구현합니다
- 현재 요구사항에만 집중합니다

### 2. TDD (Test-Driven Development) 필수
- Red-Green-Refactor 사이클 준수
- 기능 구현 전에 반드시 테스트를 먼저 작성합니다
- 모든 테스트가 통과하지 않으면 다음 단계로 진행하지 않습니다

### 3. 커밋 관리
- 하나의 커밋은 최대 100라인으로 유지
- 하나의 커밋은 하나의 논리적 변경사항만 포함
- 빈번한 커밋을 권장합니다

## 코드 품질 및 스타일

### 4. 코드 스타일
- Python: PEP 8 준수
- 함수/변수: snake_case
- 클래스: PascalCase
- 상수: UPPER_SNAKE_CASE
- 줄 길이: 88자 이내
- 들여쓰기: 스페이스 4개

### 5. 코드 구조
- 각 모듈은 단일 책임을 가짐
- 함수는 20줄 이내로 유지
- 불필요한 주석은 피함

## 서버 아키텍처 (DDD 기반)

### 6. DDD 레이어 구조
- **Domain Layer**: Entity, Value Object, Domain Service, Aggregate
- **Application Layer**: Application Service, Command/Query 객체
- **Infrastructure Layer**: Repository 구현, 외부 서비스 어댑터
- **Presentation Layer**: Controller, DTO, API 문서화

### 7. DDD 구현 원칙
- 의존성 역전 원칙 준수
- 단일 책임 원칙 적용
- 개방 폐쇄 원칙 준수
- 인터페이스 분리 원칙 적용

## 테스트 전략

### 8. 테스트 우선순위
- 백엔드: 80% 커버리지 목표
- 프론트엔드: 70% 커버리지 목표 + 주요 플로우 100%
- 새로운 기능 시 반드시 테스트 작성

### 9. 테스트 안티패턴 금지
- 데이터베이스 직접 테스트 금지 (목 사용)
- 외부 API 호출 금지 (목 사용)
- 시간 의존적 테스트 금지
- 비결정적 테스트 금지
- 테스트 간 상태 공유 금지
- DOM 직접 조작 금지 (프론트엔드)
- 구현 세부사항 테스트 금지

## 버전 관리 (Git)

### 10. 브랜치 전략
- main: 프로덕션 배포용
- develop: 통합 브랜치
- feature/*: 새로운 기능
- bugfix/*: 버그 수정
- hotfix/*: 긴급 수정

### 11. 커밋 메시지 형식
```
type(scope): subject

body

footer
```
- type: feat, fix, docs, style, refactor, test, chore
- scope: 변경 영역 (api, ui, db 등)
- subject: 50자 이내 요약

## 보안 및 성능

### 12. 보안 원칙
- 민감한 정보는 환경 변수로 관리
- 입력값 철저한 검증
- SQL 인젝션, XSS 등 취약점 방지

### 13. 성능 기준
- API 응답: 500ms 이내
- DB 쿼리: N+1 문제 방지
- 메모리 사용량: 합리적 범위 유지

## AI 어시스턴트 행동 지침

### 14. 코드 작성 시 준수사항
- 모든 코드는 위 규칙을 우선적으로 따름
- TDD 방식으로 개발 진행
- 오버엔지니어링을 피하고 간단한 해결책 선택
- 테스트를 먼저 작성하고 구현
- 커밋은 작고 의미있게 유지

### 15. 리뷰 및 피드백 시 준수사항
- DEVELOPMENT_GUIDELINES.md 위반 사항 즉시 지적
- 테스트 커버리지 및 품질 확인
- 보안 및 성능 이슈 검토
- 코드 가독성 및 유지보수성 평가

### 16. 문제 해결 시 접근방식
- 가장 간단하고 직접적인 해결책 우선 고려
- 불필요한 추상화나 복잡성 피함
- 실제 요구사항에 기반한 구현
- 테스트로 검증된 변경사항만 승인

### 17. 문서화 요구사항
- 코드 변경 즉시 docs/ 폴더의 관련 문서 업데이트
- 새로운 기능 추가 시 해당 기능 문서 생성
- API 변경 시 docs/api/ 폴더 문서 업데이트
- 아키텍처 변경 시 docs/architecture/ 문서 업데이트
- 문서 리팩토링 필요시 즉시 수행
- CHANGELOG.md에 모든 변경사항 기록

### 18. 프론트엔드 특화 규칙
- Atomic Design 패턴으로 컴포넌트 구조화
- 단방향 데이터 흐름과 컴포넌트 합성 우선 사용
- WCAG 2.1 AA 준수로 접근성 보장
- React.memo, useMemo, useCallback으로 성능 최적화
- 모바일 우선 반응형 디자인 적용
- 브라우저 호환성과 점진적 향상 고려

### 19. 태스크 및 스프린트 관리
- 1주 단위 스프린트 운영으로 작업 관리
- 우선순위 기반(P0-P3) 태스크 처리
- 모든 태스크는 수용 기준과 템플릿 준수
- 스프린트 문서와 백로그 실시간 업데이트

이 규칙들은 프로젝트의 일관성과 품질을 유지하기 위한 필수 지침입니다.
모든 코드 변경사항은 이 규칙들을 위반하지 않아야 합니다.
